{%
  set classes = [
    'paragraph-' ~ paragraph.bundle|clean_class,
    view_mode ? 'paragraph--view-mode--' ~ view_mode|clean_class,
    not paragraph.isPublished() ? 'paragraph--unpublished',
    'bg-image-' ~ content.field_media_image['#items'][0].target_id
  ]
%}
{% set link = link('test', content.field_link['#items'][0].uri) %}
{% set hasLink = content.field_link|render|striptags('<drupal-render-placeholder>')|trim is not empty ? true : false %}
{% block paragraph %}
    <div {{ attributes.addClass(classes) }}>
      {{ content.field_media_image }}
      <h2>
        {% if hasLink %}
          <a href="{{ link['#url'] }}">
        {% endif %}
        {{ content.field_header }}
        {% if hasLink %}
          </a>
        {% endif %}
      </h2>
      {% if hasLink %}
        <a href="{{ link['#url'] }}">
          <i class="fas fa-arrow-right" role="presentation"></i>
        </a>
      {% endif %}
    </div>
{% endblock %}
